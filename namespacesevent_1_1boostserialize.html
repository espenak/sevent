<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>sevent: sevent::boostserialize Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sevent</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacesevent.html">sevent</a>      </li>
      <li class="navelem"><a class="el" href="namespacesevent_1_1boostserialize.html">boostserialize</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>sevent::boostserialize Namespace Reference</h1>  </div>
</div>
<div class="contents">

<p>Simplifies serialization with boost::serialize.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsevent_1_1boostserialize_1_1_serialized.html">Serialized</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsevent_1_1boostserialize_1_1_serializer.html">Serializer</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
boost::archive::text_iarchive&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesevent_1_1boostserialize.html#acf8e19eae7b5de6b298662b86e3f9120">iarchive_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
boost::archive::text_oarchive&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesevent_1_1boostserialize.html#ac6c5efc260e745e84694be71727a95f6">oarchive_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacesevent_1_1boostserialize.html#a7b08b289f7ee070aff57a9d2d98fb38b">toString</a> (const T &amp;serializable)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize a serializable object using boost::archive::text_oarchive.  <a href="#a7b08b289f7ee070aff57a9d2d98fb38b"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classsevent_1_1socket_1_1_const_buffer.html">socket::ConstBuffer</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacesevent_1_1boostserialize.html#ab6295c8fb441c283737736c61516060e">toConstBuffer</a> (const T &amp;serializable)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize a serializable object and put the result in a <a class="el" href="classsevent_1_1socket_1_1_const_buffer.html" title="Const (unchangable) buffer.">sevent::socket::ConstBuffer</a>.  <a href="#ab6295c8fb441c283737736c61516060e"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacesevent_1_1boostserialize.html#a2586763dc9749ad2e0a563d57f640793">fromString</a> (T &amp;out, const char *serialized)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserialize an object serialized with <a class="el" href="namespacesevent_1_1boostserialize.html#a7b08b289f7ee070aff57a9d2d98fb38b" title="Serialize a serializable object using boost::archive::text_oarchive.">toString()</a>  <a href="#a2586763dc9749ad2e0a563d57f640793"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Simplifies serialization with boost::serialize. </p>
<h2><a class="anchor" id="Example"></a>
Example</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#define BOOST_TEST_DYN_LINK</span>
<span class="preprocessor"></span><span class="preprocessor">#define BOOST_TEST_MODULE TestBoostSerialize</span>
<span class="preprocessor"></span><span class="preprocessor">#include &lt;boost/test/unit_test.hpp&gt;</span>
<span class="preprocessor">#include &lt;string&gt;</span>
<span class="preprocessor">#include &lt;boost/serialization/string.hpp&gt;</span>
<span class="preprocessor">#include &lt;boost/serialization/access.hpp&gt;</span>
<span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &quot;<a class="code" href="_boost_serialize_8h.html">sevent/BoostSerialize.h</a>&quot;</span>

<span class="keyword">using namespace </span>sevent;
<span class="keyword">using</span> <a class="code" href="classsevent_1_1boostserialize_1_1_serializer.html">sevent::boostserialize::Serializer</a>;


<span class="keyword">class </span>Person
{
    <span class="keyword">public</span>:
        Person() {}
        Person(<span class="keyword">const</span> std::string&amp; name, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> age) :
            _name(name), _age(age)
        {}
        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> age()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _age; }
        <span class="keyword">const</span> std::string&amp; name()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _name; }

    <span class="keyword">private</span>:
        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> _age;
        std::string _name;

    <span class="keyword">private</span>:
        <span class="keyword">friend</span> <span class="keyword">class </span>boost::serialization::access;
        <span class="keyword">template</span>&lt;<span class="keyword">class</span> Archive&gt;
        <span class="keywordtype">void</span> serialize(Archive&amp; ar, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> version)
        {
            ar &amp; _age &amp; _name;
        }
};
<span class="keyword">typedef</span> boost::shared_ptr&lt;Person&gt; Person_ptr;


BOOST_AUTO_TEST_CASE( TestBoostSerializeCore )
{
    <span class="comment">// Serialize</span>
    Person superman(<span class="stringliteral">&quot;Superman&quot;</span>, 40);
    std::string serialized = <a class="code" href="namespacesevent_1_1boostserialize.html#a7b08b289f7ee070aff57a9d2d98fb38b" title="Serialize a serializable object using boost::archive::text_oarchive.">sevent::boostserialize::toString</a>(superman);

    <span class="comment">// Deserialize</span>
    Person supermanDeserialized;
    <a class="code" href="namespacesevent_1_1boostserialize.html#a2586763dc9749ad2e0a563d57f640793" title="Deserialize an object serialized with toString()">sevent::boostserialize::fromString</a>(supermanDeserialized, serialized.c_str());

    BOOST_REQUIRE_EQUAL(supermanDeserialized.name(), <span class="stringliteral">&quot;Superman&quot;</span>);
    BOOST_REQUIRE_EQUAL(supermanDeserialized.age(), 40);
}


BOOST_AUTO_TEST_CASE( TestBoostSerializeConstBuffer )
{
    <span class="comment">// Serialize</span>
    <a class="code" href="classsevent_1_1socket_1_1_const_buffer.html" title="Const (unchangable) buffer.">sevent::socket::ConstBuffer</a> b = <a class="code" href="namespacesevent_1_1boostserialize.html#ab6295c8fb441c283737736c61516060e" title="Serialize a serializable object and put the result in a sevent::socket::ConstBuffer.">sevent::boostserialize::toConstBuffer</a>(Person(<span class="stringliteral">&quot;Superman&quot;</span>, 40));

    <span class="comment">// Deserialize</span>
    Person supermanDeserialized;
    <a class="code" href="namespacesevent_1_1boostserialize.html#a2586763dc9749ad2e0a563d57f640793" title="Deserialize an object serialized with toString()">sevent::boostserialize::fromString</a>(supermanDeserialized,
                                       static_cast&lt;const char*&gt;(b.<a class="code" href="classsevent_1_1socket_1_1_const_buffer.html#a8811a23fe820293c9fbe7121cf0609d6" title="Return the data stored in the buffer.">data</a>()));

    BOOST_REQUIRE_EQUAL(supermanDeserialized.name(), <span class="stringliteral">&quot;Superman&quot;</span>);
    BOOST_REQUIRE_EQUAL(supermanDeserialized.age(), 40);
}

BOOST_AUTO_TEST_CASE( TestBoostSerializer )
{
    <span class="comment">// Serialize</span>
    boost::shared_ptr&lt;Person&gt; superman = boost::make_shared&lt;Person&gt;(<span class="stringliteral">&quot;Superman&quot;</span>, 40);
    socket::Serialized_ptr serialized = boostserialize::Serializer::serialize&lt;Person&gt;(superman);

    <span class="comment">// Deserialize</span>
    Person_ptr supermanDeserialized = Serializer::deserialize&lt;Person&gt;(serialized-&gt;data(),
                                                                      serialized-&gt;size()).data();
    BOOST_REQUIRE_EQUAL(supermanDeserialized-&gt;name(), <span class="stringliteral">&quot;Superman&quot;</span>);
    BOOST_REQUIRE_EQUAL(supermanDeserialized-&gt;age(), 40);
}
</pre></div> </div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="acf8e19eae7b5de6b298662b86e3f9120"></a><!-- doxytag: member="sevent::boostserialize::iarchive_t" ref="acf8e19eae7b5de6b298662b86e3f9120" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::archive::text_iarchive <a class="el" href="namespacesevent_1_1boostserialize.html#acf8e19eae7b5de6b298662b86e3f9120">sevent::boostserialize::iarchive_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_boost_serialize_8h_source.html#l00025">25</a> of file <a class="el" href="_boost_serialize_8h_source.html">BoostSerialize.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac6c5efc260e745e84694be71727a95f6"></a><!-- doxytag: member="sevent::boostserialize::oarchive_t" ref="ac6c5efc260e745e84694be71727a95f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::archive::text_oarchive <a class="el" href="namespacesevent_1_1boostserialize.html#ac6c5efc260e745e84694be71727a95f6">sevent::boostserialize::oarchive_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_boost_serialize_8h_source.html#l00026">26</a> of file <a class="el" href="_boost_serialize_8h_source.html">BoostSerialize.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2586763dc9749ad2e0a563d57f640793"></a><!-- doxytag: member="sevent::boostserialize::fromString" ref="a2586763dc9749ad2e0a563d57f640793" args="(T &amp;out, const char *serialized)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void sevent::boostserialize::fromString </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serialized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deserialize an object serialized with <a class="el" href="namespacesevent_1_1boostserialize.html#a7b08b289f7ee070aff57a9d2d98fb38b" title="Serialize a serializable object using boost::archive::text_oarchive.">toString()</a> </p>

<p>Definition at line <a class="el" href="_boost_serialize_8h_source.html#l00049">49</a> of file <a class="el" href="_boost_serialize_8h_source.html">BoostSerialize.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab6295c8fb441c283737736c61516060e"></a><!-- doxytag: member="sevent::boostserialize::toConstBuffer" ref="ab6295c8fb441c283737736c61516060e" args="(const T &amp;serializable)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsevent_1_1socket_1_1_const_buffer.html">socket::ConstBuffer</a> sevent::boostserialize::toConstBuffer </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>serializable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Serialize a serializable object and put the result in a <a class="el" href="classsevent_1_1socket_1_1_const_buffer.html" title="Const (unchangable) buffer.">sevent::socket::ConstBuffer</a>. </p>

<p>Definition at line <a class="el" href="_boost_serialize_8h_source.html#l00041">41</a> of file <a class="el" href="_boost_serialize_8h_source.html">BoostSerialize.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7b08b289f7ee070aff57a9d2d98fb38b"></a><!-- doxytag: member="sevent::boostserialize::toString" ref="a7b08b289f7ee070aff57a9d2d98fb38b" args="(const T &amp;serializable)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string sevent::boostserialize::toString </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>serializable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Serialize a serializable object using boost::archive::text_oarchive. </p>

<p>Definition at line <a class="el" href="_boost_serialize_8h_source.html#l00030">30</a> of file <a class="el" href="_boost_serialize_8h_source.html">BoostSerialize.h</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 7 2011 22:12:44 for sevent by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
